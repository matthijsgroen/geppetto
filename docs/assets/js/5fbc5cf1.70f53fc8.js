"use strict";(self.webpackChunkgeppetto=self.webpackChunkgeppetto||[]).push([[207],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>c});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=s(n),c=i,k=d["".concat(p,".").concat(c)]||d[c]||u[c]||l;return n?a.createElement(k,r(r({ref:t},m),{},{components:n})):a.createElement(k,r({ref:t},m))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,r=new Array(l);r[0]=d;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var s=2;s<l;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7480:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var a=n(3117),i=(n(7294),n(3905));const l={sidebar_position:7,comment:"This file is automatically generated using `yarn write-api-doc`"},r="API Reference",o={unversionedId:"api",id:"api",title:"API Reference",description:"The api has a only a few methods to get you started:",source:"@site/docs/api.md",sourceDirName:".",slug:"/api",permalink:"/docs/api",draft:!1,editUrl:"https://github.com/matthijsgroen/geppetto/edit/gh-pages/website/docs/api.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,comment:"This file is automatically generated using `yarn write-api-doc`"},sidebar:"tutorialSidebar",previous:{title:"Animation playground",permalink:"/docs/playground"}},p={},s=[{value:"setupWebGL",id:"setupwebgl",level:2},{value:"Arguments",id:"arguments",level:4},{value:"createPlayer",id:"createplayer",level:2},{value:"Arguments",id:"arguments-1",level:4},{value:"prepareAnimation",id:"prepareanimation",level:2},{value:"Arguments",id:"arguments-2",level:4},{value:"GeppettoPlayer",id:"geppettoplayer",level:2},{value:"destroy()",id:"geppettoplayer-destroy",level:3},{value:"addAnimation(animation, image, textureUnit, options)",id:"geppettoplayer-addanimation",level:3},{value:"Arguments",id:"arguments-3",level:4},{value:"render()",id:"geppettoplayer-render",level:3},{value:"AnimationControls",id:"animationcontrols",level:2},{value:"destroy()",id:"animationcontrols-destroy",level:3},{value:"getControlValue(controlName)",id:"animationcontrols-getcontrolvalue",level:3},{value:"Arguments",id:"arguments-4",level:4},{value:"onEvent(callback)",id:"animationcontrols-onevent",level:3},{value:"Arguments",id:"arguments-5",level:4},{value:"onTrackStopped(callback)",id:"animationcontrols-ontrackstopped",level:3},{value:"Arguments",id:"arguments-6",level:4},{value:"render()",id:"animationcontrols-render",level:3},{value:"setControlValue(controlName, value)",id:"animationcontrols-setcontrolvalue",level:3},{value:"Arguments",id:"arguments-7",level:4},{value:"setLooping(loop, trackName)",id:"animationcontrols-setlooping",level:3},{value:"Arguments",id:"arguments-8",level:4},{value:"setPanning(panX, panY)",id:"animationcontrols-setpanning",level:3},{value:"Arguments",id:"arguments-9",level:4},{value:"setZIndex(zIndex)",id:"animationcontrols-setzindex",level:3},{value:"Arguments",id:"arguments-10",level:4},{value:"setZoom(zoom)",id:"animationcontrols-setzoom",level:3},{value:"Arguments",id:"arguments-11",level:4},{value:"startTrack(trackName, options)",id:"animationcontrols-starttrack",level:3},{value:"Arguments",id:"arguments-12",level:4},{value:"stopTrack(trackName)",id:"animationcontrols-stoptrack",level:3},{value:"Arguments",id:"arguments-13",level:4}],m={toc:s};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"api-reference"},"API Reference"),(0,i.kt)("p",null,"The api has a only a few methods to get you started:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"use ",(0,i.kt)("a",{parentName:"li",href:"#setupwebgl"},(0,i.kt)("inlineCode",{parentName:"a"},"setupWebGL"))," or ",(0,i.kt)("a",{parentName:"li",href:"#createplayer"},(0,i.kt)("inlineCode",{parentName:"a"},"createPlayer"))," to\ninitialize the canvas and get an ",(0,i.kt)("a",{parentName:"li",href:"#geppettoplayer"},(0,i.kt)("inlineCode",{parentName:"a"},"GeppettoPlayer"))," object."),(0,i.kt)("li",{parentName:"ul"},"use ",(0,i.kt)("a",{parentName:"li",href:"#prepareanimation"},(0,i.kt)("inlineCode",{parentName:"a"},"prepareAnimation"))," to convert your animation to use with\n",(0,i.kt)("a",{parentName:"li",href:"#geppettoplayer-addanimation"},(0,i.kt)("inlineCode",{parentName:"a"},"GeppettoPlayer.addAnimation")),"."),(0,i.kt)("li",{parentName:"ul"},"use the ",(0,i.kt)("a",{parentName:"li",href:"#animationcontrol"},(0,i.kt)("inlineCode",{parentName:"a"},"AnimationControl"))," (as return of\n",(0,i.kt)("a",{parentName:"li",href:"#geppettoplayer-addanimation"},(0,i.kt)("inlineCode",{parentName:"a"},"GeppettoPlayer.addAnimation")),") to control your animation.")),(0,i.kt)("h2",{id:"setupwebgl"},"setupWebGL"),(0,i.kt)("p",null,"Initializes the WebGL Context of a provided context. Configures the context and returns\na GeppettoPlayer bound to this element."),(0,i.kt)("p",null,"Use this method if you only render Geppetto Animations in your Canvas.\nUse ",(0,i.kt)("a",{parentName:"p",href:"#createplayer"},"createPlayer")," if you want your own control over the canvas configuration"),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"GeppettoPlayer")," "),(0,i.kt)("h4",{id:"arguments"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"element")," ",(0,i.kt)("inlineCode",{parentName:"li"},"HTMLCanvasElement")," the Canvas DOM element that is not yet initialized with a context")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"const setupWebGL = (element: HTMLCanvasElement): GeppettoPlayer;\n")),(0,i.kt)("h2",{id:"createplayer"},"createPlayer"),(0,i.kt)("p",null,"Initializes a player to display in an existing WebGL Environment.\nUse this function to create a player if you want to have full control over the\nrendering process (possibly to combine with other render code)."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"GeppettoPlayer")," "),(0,i.kt)("h4",{id:"arguments-1"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"element")," ",(0,i.kt)("inlineCode",{parentName:"li"},"HTMLCanvasElement")," the Canvas DOM element containing a WebGL Context")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"const createPlayer = (element: HTMLCanvasElement): GeppettoPlayer;\n")),(0,i.kt)("h2",{id:"prepareanimation"},"prepareAnimation"),(0,i.kt)("p",null,"Convert the JSON based input animation file into a preprocessed list of buffers to place into WebGL"),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"PreparedImageDefinition")," PreparedAnimation"),(0,i.kt)("h4",{id:"arguments-2"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"imageDefinition")," ",(0,i.kt)("inlineCode",{parentName:"li"},"ImageDefinition")," ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"const prepareAnimation = (imageDefinition: ImageDefinition): PreparedImageDefinition;\n")),(0,i.kt)("h2",{id:"geppettoplayer"},"GeppettoPlayer"),(0,i.kt)("p",null,"A player to add Gepetto animations to."),(0,i.kt)("h3",{id:"geppettoplayer-destroy"},"destroy()"),(0,i.kt)("p",null,"Destroys all animations added to this player."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h3",{id:"geppettoplayer-addanimation"},"addAnimation(animation, image, textureUnit, ","[options]",")"),(0,i.kt)("p",null,"Add a Geppetto animation to the player."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"AnimationControls")," "),(0,i.kt)("h4",{id:"arguments-3"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"animation")," ",(0,i.kt)("inlineCode",{parentName:"li"},"PreparedImageDefinition")," an animation prepared with ",(0,i.kt)("a",{parentName:"li",href:"#prepareanimation"},"prepareAnimation"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"image")," ",(0,i.kt)("inlineCode",{parentName:"li"},"HTMLImageElement")," a HTML Image element with loaded url to use as texture."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"textureUnit")," ",(0,i.kt)("inlineCode",{parentName:"li"},"number")," The texture unit to use you can use ",(0,i.kt)("inlineCode",{parentName:"li"},"0")," for your first animation,\n",(0,i.kt)("inlineCode",{parentName:"li"},"1")," for your second, etc."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"options")," ",(0,i.kt)("inlineCode",{parentName:"li"},"Partial<AnimationOptions>")," ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"\n/**\n * Options to set directly when adding an animation.\n **/\ninterface AnimationOptions {\n  \n  /**\n   * Horizontal position of image in canvas. `0` = center, `-1` = left, `1` = right.\n   * @default 0.0\n   **/\n  panX: number;\n  \n  /**\n   * Vertical position of image in canvas. `0` = center, `-1` = bottom, `1` = top.\n   * @default 0.0\n   **/\n  panY: number;\n  \n  /**\n   * Adds a stacking order to the rendering elements, this helps when\n   * stacking multiple animations on top of eachother.\n   * @default 0\n   **/\n  zIndex: number;\n  \n  /**\n   * Zoom level. `1` = 100%, `1.5` is 150%, `0.5` = 50% zoom.\n   * @default 1.0\n   **/\n  zoom: number;\n};\n")),(0,i.kt)("h3",{id:"geppettoplayer-render"},"render()"),(0,i.kt)("p",null,"Clears the canvas. Use this when you created the player with ",(0,i.kt)("a",{parentName:"p",href:"#setupwebgl"},"setupWebGL"),".\nIf you want to control the rendering process (and the clearing of the canvas) yourself,\nskip the call to this method in your render cycle."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h2",{id:"animationcontrols"},"AnimationControls"),(0,i.kt)("p",null,"Options to control the animation, start animation tracks, etc."),(0,i.kt)("h3",{id:"animationcontrols-destroy"},"destroy()"),(0,i.kt)("p",null,"Clears all memory associated to this animation."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h3",{id:"animationcontrols-getcontrolvalue"},"getControlValue(controlName)"),(0,i.kt)("p",null,"Retreives current value of a control. This value will not update for each frame\nof an animation. It will only update at the end of each play iteration of an animation."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"number")," value of the control. Take into account that each control can have different\nvalue limits, depending on the amount of step a control has."),(0,i.kt)("h4",{id:"arguments-4"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"controlName")," ",(0,i.kt)("inlineCode",{parentName:"li"},"string")," name of the control to get value from")),(0,i.kt)("h3",{id:"animationcontrols-onevent"},"onEvent(callback)"),(0,i.kt)("p",null,"Register a callback to get notifications when an event is triggered.\nEvents can be defined in an animation."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"Unsubscribe")," a function to call to unsubscribe"),(0,i.kt)("h4",{id:"arguments-5"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"callback")," ",(0,i.kt)("inlineCode",{parentName:"li"},"CustomEventCallback")," function that gets called whenever an event happens.\nIt passes in the eventName, track and time.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"type CustomEventCallback = (eventName: string, track: string, time: number): void;\n\n/**\n * Function to call for unsubscribing to an event listener\n **/\ntype Unsubscribe = (): void;\n")),(0,i.kt)("h3",{id:"animationcontrols-ontrackstopped"},"onTrackStopped(callback)"),(0,i.kt)("p",null,"Register a callback to get notifications when a track is stopped.\nA track can be stopped for the following reasons."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"Unsubscribe")," a function to call to unsubscribe"),(0,i.kt)("h4",{id:"arguments-6"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"callback")," ",(0,i.kt)("inlineCode",{parentName:"li"},"TrackStoppedCallback")," function to call when tracks are stopped.\nThe first argument will be the trackname.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"type TrackStoppedCallback = (track: string): void;\n\n/**\n * Function to call for unsubscribing to an event listener\n **/\ntype Unsubscribe = (): void;\n")),(0,i.kt)("h3",{id:"animationcontrols-render"},"render()"),(0,i.kt)("p",null,"Render a frame of the image."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h3",{id:"animationcontrols-setcontrolvalue"},"setControlValue(controlName, value)"),(0,i.kt)("p",null,"Manipulates a control. Will stop animations that are using this control as well."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h4",{id:"arguments-7"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"controlName")," ",(0,i.kt)("inlineCode",{parentName:"li"},"string")," name of the control to change"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"value")," ",(0,i.kt)("inlineCode",{parentName:"li"},"number")," value to set for control. Take into account that each control can have different\nvalue limits, depending on the amount of step a control has.")),(0,i.kt)("h3",{id:"animationcontrols-setlooping"},"setLooping(loop, trackName)"),(0,i.kt)("p",null,"Set the looping state of an animation track."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h4",{id:"arguments-8"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"loop")," ",(0,i.kt)("inlineCode",{parentName:"li"},"boolean")," true for looping, false to stop looping."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"trackName")," ",(0,i.kt)("inlineCode",{parentName:"li"},"string")," the name of the animation track to adjust.")),(0,i.kt)("h3",{id:"animationcontrols-setpanning"},"setPanning(panX, panY)"),(0,i.kt)("p",null,"Update the panning of the animation."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h4",{id:"arguments-9"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"panX")," ",(0,i.kt)("inlineCode",{parentName:"li"},"number")," value of horizontal panning. ",(0,i.kt)("inlineCode",{parentName:"li"},"0")," = center, ",(0,i.kt)("inlineCode",{parentName:"li"},"-1")," = left, ",(0,i.kt)("inlineCode",{parentName:"li"},"1")," = right."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"panY")," ",(0,i.kt)("inlineCode",{parentName:"li"},"number")," value of vertical panning. ",(0,i.kt)("inlineCode",{parentName:"li"},"0")," = center, ",(0,i.kt)("inlineCode",{parentName:"li"},"-1")," = bottom, ",(0,i.kt)("inlineCode",{parentName:"li"},"1")," = top.")),(0,i.kt)("h3",{id:"animationcontrols-setzindex"},"setZIndex(zIndex)"),(0,i.kt)("p",null,"Changes the rendering order of animations."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h4",{id:"arguments-10"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"zIndex")," ",(0,i.kt)("inlineCode",{parentName:"li"},"number")," The index number for rendering.\nThe higher the number, the more in the front the element will be stacked.")),(0,i.kt)("h3",{id:"animationcontrols-setzoom"},"setZoom(zoom)"),(0,i.kt)("p",null,"Updates the zoom level."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h4",{id:"arguments-11"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"zoom")," ",(0,i.kt)("inlineCode",{parentName:"li"},"number")," ",(0,i.kt)("inlineCode",{parentName:"li"},"1")," = 100%, ",(0,i.kt)("inlineCode",{parentName:"li"},"1.5")," is 150%, ",(0,i.kt)("inlineCode",{parentName:"li"},"0.5")," = 50% zoom.")),(0,i.kt)("h3",{id:"animationcontrols-starttrack"},"startTrack(trackName, ","[options]",")"),(0,i.kt)("p",null,"Start an animation. Conflicting animations will be automatically stopped."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h4",{id:"arguments-12"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"trackName")," ",(0,i.kt)("inlineCode",{parentName:"li"},"string")," the name of the animation track to start.\nIf the name is not valid, an exception will be thrown\nindicating what animation names are available."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"options")," ",(0,i.kt)("inlineCode",{parentName:"li"},"PlayOptions")," ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"type PlayOptions = {\n  \n  /**\n   * Playback speed.\n   * @default 1.0\n   **/\n  speed: number;\n  \n  /**\n   * Start animation at given ms.\n   **/\n  startAt: number;\n};\n")),(0,i.kt)("h3",{id:"animationcontrols-stoptrack"},"stopTrack(trackName)"),(0,i.kt)("p",null,"Stop an animation."),(0,i.kt)("p",null,"Returns ",(0,i.kt)("inlineCode",{parentName:"p"},"void")," "),(0,i.kt)("h4",{id:"arguments-13"},"Arguments"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"trackName")," ",(0,i.kt)("inlineCode",{parentName:"li"},"string")," the name of the animation track to start.\nIf the name is not valid, an exception will be thrown\nindicating what animation names are available.")))}u.isMDXComponent=!0}}]);